
DROP TABLE LECTURE_TABLE;
DROP TABLE ENROLL_TABLE;
DROP TABLE STUDENT_TABLE;
DROP TABLE COURSE_TABLE;
DROP TABLE PROFESSOR_TABLE;




CREATE TABLE PROFESSOR_TABLE (
    PRO_NO VARCHAR2(10 BYTE) NOT NULL,
    PRO_NAME VARCHAR2(20 BYTE),
    PRO_JUN VARCHAR2(20 BYTE),
    CONSTRAINT FK_PRO PRIMARY KEY(PRO_NO)
);

CREATE TABLE COURSE_TABLE (
    COUR_NO VARCHAR2(10 BYTE) NOT NULL,
    COUR_NAME VARCHAR2(20 BYTE),
    COUR_SCORE NUMBER,
    CONSTRAINT PK_COURSE PRIMARY KEY(COUR_NO)
);

CREATE TABLE STUDENT_TABLE (
    STUDENT_NO VARCHAR2(10 BYTE) NOT NULL,
    STUDENT_NAME VARCHAR2(20 BYTE),
    STUDENT_ADDRESS VARCHAR2(50 BYTE),
    STUDENT_GRADE NUMBER NOT NULL,
    PRO_NO VARCHAR2(10 BYTE),
    CONSTRAINT PK_NO PRIMARY KEY(STUDENT_NO),
    CONSTRAINT FK_NO FOREIGN KEY(PRO_NO) REFERENCES PROFESSOR_TABLE(PRO_NO)
);


CREATE TABLE ENROLL_TABLE (
    ENR_NO NUMBER NOT NULL,
    STUDENT_NO VARCHAR2(10 BYTE),
    COUR_NO VARCHAR2(10 BYTE),
    ENROLL_DATE DATE,
    CONSTRAINT PK_ENR PRIMARY KEY(ENR_NO),
    CONSTRAINT FK_ST_NO FOREIGN KEY(STUDENT_NO) REFERENCES STUDENT_TABLE(STUDENT_NO),
    CONSTRAINT FK_CO_NO FOREIGN KEY(COUR_NO) REFERENCES COURSE_TABLE(COUR_NO)
);

CREATE TABLE LECTURE_TABLE (
    LECTURE_NO NUMBER NOT NULL,
    PRO_NO VARCHAR2(10 BYTE),
    ENR_NO NUMBER,
    LECTURE_NAME VARCHAR2(100 BYTE),
    LECTURE_CLASS VARCHAR2(100 BYTE),
    CONSTRAINT PK_LECC PRIMARY KEY(LECTURE_NO),
    CONSTRAINT FK_PROO FOREIGN KEY(PRO_NO) REFERENCES PROFESSOR_TABLE(PRO_NO),
    CONSTRAINT FK_ENRR FOREIGN KEY(ENR_NO) REFERENCES ENROLL_TABLE(ENR_NO)
);



INSERT INTO PROFESSOR_TABLE(PRO_NO, PRO_NAME, PRO_JUN) VALUES ('P001', '홍길동', '심리학');
INSERT INTO PROFESSOR_TABLE(PRO_NO, PRO_NAME, PRO_JUN) VALUES ('P002', '고길동', '경제학');
INSERT INTO PROFESSOR_TABLE(PRO_NO, PRO_NAME, PRO_JUN) VALUES ('P003', '박길동', '금융학');


INSERT INTO COURSE_TABLE(COUR_NO, COUR_NAME, COUR_SCORE) VALUES ('A001', '심리학', 4);
INSERT INTO COURSE_TABLE(COUR_NO, COUR_NAME, COUR_SCORE) VALUES ('A002', '금융학', 4);
INSERT INTO COURSE_TABLE(COUR_NO, COUR_NAME, COUR_SCORE) VALUES ('A003', '경제학', 3);


INSERT INTO STUDENT_TABLE(STUDENT_NO, STUDENT_NAME, STUDENT_ADDRESS, STUDENT_GRADE, PRO_NO) VALUES ('230205', '김세연', '동작구', 1, 'P001');
INSERT INTO STUDENT_TABLE(STUDENT_NO, STUDENT_NAME, STUDENT_ADDRESS, STUDENT_GRADE, PRO_NO) VALUES ('230206', '김콩콩', '송파구', 3, 'P002');
INSERT INTO STUDENT_TABLE(STUDENT_NO, STUDENT_NAME, STUDENT_ADDRESS, STUDENT_GRADE, PRO_NO) VALUES ('230207', '김수수', '강남구', 3, 'P003');


DROP SEQUENCE ENROLL_SEQ;

CREATE SEQUENCE ENROLL_SEQ ORDER;

INSERT INTO ENROLL_TABLE(ENR_NO, STUDENT_NO, COUR_NO, ENROLL_DATE) VALUES (ENROLL_SEQ.NEXTVAL, '230206' ,'A001' , '2020/03/13');
INSERT INTO ENROLL_TABLE(ENR_NO, STUDENT_NO, COUR_NO, ENROLL_DATE) VALUES (ENROLL_SEQ.NEXTVAL, '230205' ,'A003', '2020/03/12');
INSERT INTO ENROLL_TABLE(ENR_NO, STUDENT_NO, COUR_NO, ENROLL_DATE) VALUES (ENROLL_SEQ.NEXTVAL, '230207' ,'A002', '2020/03/10');



DROP SEQUENCE LECTURE_SEQ;

CREATE SEQUENCE LECTURE_SEQ ORDER;

INSERT INTO LECTURE_TABLE(LECTURE_NO, PRO_NO, ENR_NO, LECTURE_NAME, LECTURE_CLASS) VALUES (LECTURE_SEQ.NEXTVAL, 'P001', 1, '어쩌구학', '201호');
INSERT INTO LECTURE_TABLE(LECTURE_NO, PRO_NO, ENR_NO, LECTURE_NAME, LECTURE_CLASS) VALUES (LECTURE_SEQ.NEXTVAL, 'P002', 2, '저기학', '202호');
INSERT INTO LECTURE_TABLE(LECTURE_NO, PRO_NO, ENR_NO, LECTURE_NAME, LECTURE_CLASS) VALUES (LECTURE_SEQ.NEXTVAL, 'P003', 3, '요놈학', '203호');


COMMIT;




    
    
    